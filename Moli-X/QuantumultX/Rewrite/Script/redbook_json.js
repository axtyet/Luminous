/***********************************************
> 应用名称：墨鱼自用小红书去广告脚本
> 脚本作者：@ddgksf2013
> 微信账号：墨鱼手记
> 更新时间：2025-03-14
> 通知频道：https://t.me/ddgksf2021
> 贡献投稿：https://t.me/ddgksf2013_bot
> 问题反馈：ddgksf2013@163.com
> 特别提醒：如需转载请注明出处，谢谢合作！
***********************************************/




const version = 'V1.0.26';
const $ = new Env("小红书");
var _0xodG='jsjiami.com.v7';const _0x5a5378=_0xaee0;function _0x48ec(){const _0x9589e4=(function(){return[_0xodG,'yDjWspjiUaOWDmriO.dcFRUoKTnmwK.IvGF7uTSI==','q3/cTuS6WPuZW7ddOa','WQnNW5/cTdRcPCoeW5JdI3O','W7ZcNCorW7NcG3fc','BCoyqa','WOZcSaOww8kxp8kf','u8otWOTMuCknrqi8','WQD8W5hdN8o9WPNcRW','W7JcJJjrWR8iy8otWRnCzmof','WP3dGCoeE8oJWRZdRmoEAG','x8kcWOldGGyRCMtdKCoWWOiSW709rZXI','W4LTnvWIWOyMawa','W4FdTCo5kSkjWOdcTaT2nq','W7nGB1dcLuNdH8oegtBdTc84FG','W73cKCoplSoauW8lbmo7W4xcT0XdW7ddL8k7','pmogWOVdPW','DeyOW4j8W6BcVSk4bXxdTKG0WP8XE8o1','WO3dT8oIaui','W4BdMIm','WPZdJGa','W7DQCuZcUetdMSoplq','W4nDsh7cOW','WRjNW5hdS8oYWP3cRHqn','W6pcM8oe','WP7dSmooWRJcOd81h3bo','WORdLmocCW','uhhcT0ea','hCkhW4usbSk+W7NcVCk7aImj','A8oExSobWOtcRq','W6m6pMhdLCoQWQW','qc1yWPLIoLLXW6C','nslcQa','a8khW4mifq','W4ddICkjECk9WR4eWQ7cVSo/WRBdU3FdIXy8ma','ymoqvCoTWOvoyCo3BCoVBCowfqa','DCopsmonWOq','xInEWO9y','mSk3ECor','ymobw8oTWOm','WR58W50','FWZdJGKmW6NcUrW0BmkxW7yJugu','W53dMSkw','u3JcPeaaWQyZW7ddRt8','WONdUchcJmoZWRauWOFcGq','bCorW4hcPu14ltpcK8kK','WQ1sW5RdOfS','WQD6W4/dRSo5WOG','FCo4W53dVhrKWRjfW74','BSodsmobWORcNXRdGrqwCG','D8o7EauWWPpdOCk+q20u','nq/cKG52Fmon','sInyWP0','W5ZdVCoUo8kdWQ3cGHbInSocW5bO','jCkIF8ozmmogqCknoG','W7tcGdzGWQecBSowWPHmCSo2k8o+WPNcIuW','5PkG57wU56+y6k6t','WQ18W4q','WOpdJGFdQCk0WRFdGNK','WPxdTI7cJ8oWWRavW5NcJ2lcNCkqW75AWRK','WRXFbSkakxSNW5a','WRFcQSosW67cKxG','W7Gvcq','WPvMteq','WOZcSmoVsCo3WOGrb0WJ','WOj0ct3dTg/dVXFcPq','5Pkt57Et56266k+B','W4ldTCo5aCkEWPFcHX9Wpmo5W7K9yCoEWOPL','W7RdJCkEzmkGWRqdWP/cOSo1WQBdI1VdGqa','oSk5AG','xcDaWP1jm1rDW7rNnCoqxI9sWQvr','D8ocyCoJWRldGJzoW5BcTXtdLgS','imokWPBdP8kytG','bf7cOctdMSkBuSowW6mzWQtdMKu','rMtcJa','WPNdT8oKeW','yuyQW4z6W6lcRSkcpXpdTe0GWQu','xWZdJJ8wW6tcT3b9'].concat((function(){return['W4GPWR9x','xH3dMc4cW6S','WQ9lrKW','DqJcUaG','kW1dBG5nka','W7PQDvdcUetdMSosmG','ESogA8o+WOjv','m28q','W4LTnvWIWOmR','D8odsa','WP7cRCkmW5i','rqddHd88W7hcVtG5EW','oSogWPtdSSowc1apWPXNzrFcLCoiDmkAWRq','WPvHdZu','xNpcHmoosIRdGs9KdWH8W6z/W4n2fq','W47dNCkurCk7WRihWQhcLCo/WRZdKgldJrWR','eCkrW445b8oyhcC2lM7cRCo5','WOiKiLxcI8o1w8kRtui','W6rKC0BcGG','wZba','WOVcO8o1CCoSWOmIe0OQW5VdOv1QW4jXW6O','vbJdP03cLSobb8o4W7u','Amo+W5tdTh5vWQ8B','W5RdTCo4lCkj','lmocWOZdSG','CWJcPX1fBmoaW5NdObBdH8kzW6dcOwNdRXq','Fmo9WOrHWRu','W5ZdJCkjuG','lhqfdIBdHI7dLJS','BtvouNVcK3ldLWr3WRD4W6S','wqFdSa','mmkznCkWW63cQ2DPW4/cVbtdTKVdVG','W6D8CKhcGKxdRmosiY3dRYC8FHPS','WOFdMmoxDCoOWQJdMSouENng','u2tcPearWQyUW7FdPJu','W4TTjG','W7xcLsbsWQa','fCktW58ybmkYW4NcPCkldI4yWPW7esa','lsJcVmof','u8kcWOxdVa','xcDiWP5sovTDW6z7p8ogCGzvWRrzw8opBCoKtW','tmoiWP4','W7PKDvZcKu3dRmoxktBdUIS','ECkBWPVdQ8o0cwiz','eSkcW4i','W5/dPSoM','u8opWPH9wSk1rqOJeW','W7VcLb0F','nq1tyW5MoMHXWPpcVZ3cVv8du8kA','WPL+Dri','WP87hGG','fJXbxsq','mrXszXW','W6KofSkufNCu','kSkFnG','WPFdHHddVa','WQjJW5dcPWdcJCoEW5JdGW','wWddJI4mW5NcTc84BmkqW7GlxG','WONdKmocDSoSWQ/dPa','tmoYW5tdK35LWQ0PWRFdS8kcrHtdKvS','WRD6W4FdV8oZWQxcRHWsy8oYWQfJ','WORcR8oNsCo7WRK7afi','zSotWO5hWOfdW5NcGCobW5G','WReqfbXpWR/dQbr1DmkL','W64PWQHHWQTnwSoAWPhcJa7dRWfHW6K','FmomWO8','h3aAW48pyqe7W6rHlmonvdy','WPHTgJpdV3VdIr3cTw3dHW','W5hdSSkZhmkOWOuEhvyRW5q','W5nNmK0','eIldTqTvW4XQWQ7cVwe','WQeCfr0AW4a','W7/cGdfAWRqiCmoEWOLA','W4tcP8kpW5/dUMj1bcGTW55Bcq','W7JdSCoUhmkdWP3cGcHTpCo4W4KrA8oi','W47dLdddOG','WPdcTSoNwSoRWPu','bSkuW50'].concat((function(){return['W4BdVCo8o8kZWOlcGXfWnG','ESokWPhdTri8','WPtcUbO9xmkanSkxyb9KW5qDWQhcJHldQq','CWJcRX5EzSopW5NdSGRdJCkpW4ZcJM/dTq3dN8koW5PdWR0','r8oEWOT3WOTZW5VcV8opW5JdGg4YtmkU','lGftBWbMlwzWWPJcJdhcS1u','BCoFWPFdSq','WP/dIam','W6ugfSkNdxKDW7HAw1tcJwzLW43cMmkN','E8oAwCo6WObdk8o9lmoOymokxW','WQ9VW4xcOq','DWtcRXLEvSonW6i','mCkhBSofcW','WPhcP8oQt8oQWOmQlvKGW5ddMKLAW4nGW7q','Emo+W5ZdPxr4','vCovWPu','WP41dHtdTmoFW4D5nCkkWRlcLa','k3iscsZdIcNdL3Gf','WP7dTdFcTCoHWROcW5NdKG','WP9HdZ3dRg3dIqFcS3FdKmkJ','WRv2W5ddRG','W4ZcOxxdN8kGW6uXW5JdMgBcN8kT','WPpcO8o0xCo7','W4lcLvlcRSoZW7lcLJnwWRP3WORcKeS','W6SuWOvOWOa','WQxcVSonW5dcHwjeD8kYha','W4FdKcddQL0','WPK1dHa','W4BdU8oT','W69HEZG','WOS9hHtdVmoVW5f/j8kxW6tdM8kEBq','W74tf8krexSyW79x','W5r2m1atWO0Mfg0','WQL8W5FdHCoWWPpcTazola','WOGMfG','WP7dGGddTmkG','xrZdMsm','WO/cQqudxCknbCkvEXrMW6iDW7tdGq','W6lcKCookSoRrGO3cmo1W43cTG','W6eiaG','WQ18W4ldVSo1WPtcOc0DyCok','b8kdW4ip','ncJcQ8oyssqxW7HrctTerbxdICk0Aq','zSoxWOC','sh/cQfCdWPW/W7RcPtWyW5eU','WP7dGGNdUmkEWRxdHMLkWRjMWPy','W57dGCkEq8kGWOqoWQRcR8o+WRddHxpdJW','u8otWPH7sSkz','W79SW6JcSIlcP8oc','fCkpW50El8kYW4i','rY9nWPTycuvWW78','ewFcV8oeEmk5WP54W7O','paLdAXW','u8o3EciWWPRdR8kntJnrWRG0W5rz','W5hdT8k/g8kTW5r7fxGDW7ZdV20','WQ/cQbSOAq','W7SoaCkDeemyW7Diuw/cPdm','W4mYs2ZcOZ7cPuFdQI8','qq3dPgy','W6zGCvRcLvW','jSomWOZdTSo9b1a','WQdcU8okW64','WPZdKmogFCo/WQ8','W5eTWR9xWQfqBSo/WOVcJW','vmkmWPZdSbeGANy','W7/cHb0d','WQmybbG','bmoBWRRdQqCfE20','zWlcUtLqASom','DuyWW4DPW7FcUW','yc9yFa5yia','zCoZAae','W6RcNWO0W7TaWO7cRa','omocWORdOmoh','W452jfqo'];}()));}()));}());_0x48ec=function(){return _0x9589e4;};return _0x48ec();};(function(_0x5abaa0,_0x58c379,_0x3ee44a,_0x377d02,_0x1cf6f7,_0x2254aa,_0x1f90a6){return _0x5abaa0=_0x5abaa0>>0x8,_0x2254aa='hs',_0x1f90a6='hs',function(_0x2c0617,_0x1bf7c0,_0x2e6c4a,_0x33cc25,_0x397c40){const _0x18c7ba=_0xaee0;_0x33cc25='tfi',_0x2254aa=_0x33cc25+_0x2254aa,_0x397c40='up',_0x1f90a6+=_0x397c40,_0x2254aa=_0x2e6c4a(_0x2254aa),_0x1f90a6=_0x2e6c4a(_0x1f90a6),_0x2e6c4a=0x0;const _0x302331=_0x2c0617();while(!![]&&--_0x377d02+_0x1bf7c0){try{_0x33cc25=-parseInt(_0x18c7ba(0x27d,'@ez3'))/0x1+parseInt(_0x18c7ba(0x2ab,'sC%D'))/0x2*(-parseInt(_0x18c7ba(0x25e,'[dl!'))/0x3)+parseInt(_0x18c7ba(0x1ff,'hx$e'))/0x4*(-parseInt(_0x18c7ba(0x29e,'[dl!'))/0x5)+parseInt(_0x18c7ba(0x245,'yonp'))/0x6*(-parseInt(_0x18c7ba(0x213,'yPxk'))/0x7)+parseInt(_0x18c7ba(0x2b5,'mZJ['))/0x8*(parseInt(_0x18c7ba(0x263,'YRW6'))/0x9)+parseInt(_0x18c7ba(0x22a,'EP!G'))/0xa+parseInt(_0x18c7ba(0x25c,'1BC4'))/0xb;}catch(_0x50a123){_0x33cc25=_0x2e6c4a;}finally{_0x397c40=_0x302331[_0x2254aa]();if(_0x5abaa0<=_0x377d02)_0x2e6c4a?_0x1cf6f7?_0x33cc25=_0x397c40:_0x1cf6f7=_0x397c40:_0x2e6c4a=_0x397c40;else{if(_0x2e6c4a==_0x1cf6f7['replace'](/[WKDdRwGrFIySnUOuTp=]/g,'')){if(_0x33cc25===_0x1bf7c0){_0x302331['un'+_0x2254aa](_0x397c40);break;}_0x302331[_0x1f90a6](_0x397c40);}}}}}(_0x3ee44a,_0x58c379,function(_0x5d7482,_0x408dae,_0x54a878,_0x3ef375,_0xf445e8,_0x51cd90,_0x564917){return _0x408dae='\x73\x70\x6c\x69\x74',_0x5d7482=arguments[0x0],_0x5d7482=_0x5d7482[_0x408dae](''),_0x54a878='\x72\x65\x76\x65\x72\x73\x65',_0x5d7482=_0x5d7482[_0x54a878]('\x76'),_0x3ef375='\x6a\x6f\x69\x6e',(0x19b217,_0x5d7482[_0x3ef375](''));});}(0xc600,0x44a8e,_0x48ec,0xc8),_0x48ec)&&(_0xodG=0xc8);function _0xaee0(_0x5f3bdc,_0x726ea4){const _0x48ecb6=_0x48ec();return _0xaee0=function(_0xaee027,_0x24a5c5){_0xaee027=_0xaee027-0x1e0;let _0x2236db=_0x48ecb6[_0xaee027];if(_0xaee0['uUaDKZ']===undefined){var _0x5decd8=function(_0x16fcc6){const _0x54077b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x31e1b6='',_0x5642e9='';for(let _0x108a37=0x0,_0x285dd7,_0x443a60,_0x393ecb=0x0;_0x443a60=_0x16fcc6['charAt'](_0x393ecb++);~_0x443a60&&(_0x285dd7=_0x108a37%0x4?_0x285dd7*0x40+_0x443a60:_0x443a60,_0x108a37++%0x4)?_0x31e1b6+=String['fromCharCode'](0xff&_0x285dd7>>(-0x2*_0x108a37&0x6)):0x0){_0x443a60=_0x54077b['indexOf'](_0x443a60);}for(let _0x4a03a5=0x0,_0x30779a=_0x31e1b6['length'];_0x4a03a5<_0x30779a;_0x4a03a5++){_0x5642e9+='%'+('00'+_0x31e1b6['charCodeAt'](_0x4a03a5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5642e9);};const _0x595ec2=function(_0x4172c9,_0x474820){let _0x31fcc2=[],_0x429bc9=0x0,_0x5317f2,_0x27e1aa='';_0x4172c9=_0x5decd8(_0x4172c9);let _0x309feb;for(_0x309feb=0x0;_0x309feb<0x100;_0x309feb++){_0x31fcc2[_0x309feb]=_0x309feb;}for(_0x309feb=0x0;_0x309feb<0x100;_0x309feb++){_0x429bc9=(_0x429bc9+_0x31fcc2[_0x309feb]+_0x474820['charCodeAt'](_0x309feb%_0x474820['length']))%0x100,_0x5317f2=_0x31fcc2[_0x309feb],_0x31fcc2[_0x309feb]=_0x31fcc2[_0x429bc9],_0x31fcc2[_0x429bc9]=_0x5317f2;}_0x309feb=0x0,_0x429bc9=0x0;for(let _0x22fe00=0x0;_0x22fe00<_0x4172c9['length'];_0x22fe00++){_0x309feb=(_0x309feb+0x1)%0x100,_0x429bc9=(_0x429bc9+_0x31fcc2[_0x309feb])%0x100,_0x5317f2=_0x31fcc2[_0x309feb],_0x31fcc2[_0x309feb]=_0x31fcc2[_0x429bc9],_0x31fcc2[_0x429bc9]=_0x5317f2,_0x27e1aa+=String['fromCharCode'](_0x4172c9['charCodeAt'](_0x22fe00)^_0x31fcc2[(_0x31fcc2[_0x309feb]+_0x31fcc2[_0x429bc9])%0x100]);}return _0x27e1aa;};_0xaee0['jLmnLc']=_0x595ec2,_0x5f3bdc=arguments,_0xaee0['uUaDKZ']=!![];}const _0x47a816=_0x48ecb6[0x0],_0x597191=_0xaee027+_0x47a816,_0x52af35=_0x5f3bdc[_0x597191];return!_0x52af35?(_0xaee0['TqIXkp']===undefined&&(_0xaee0['TqIXkp']=!![]),_0x2236db=_0xaee0['jLmnLc'](_0x2236db,_0x24a5c5),_0x5f3bdc[_0x597191]=_0x2236db):_0x2236db=_0x52af35,_0x2236db;},_0xaee0(_0x5f3bdc,_0x726ea4);}$[_0x5a5378(0x25a,'UsSB')]=_0x5a5378(0x26b,'hx$e'),$[_0x5a5378(0x264,'Psb1')]=_0x5a5378(0x242,'1BC4');let body=$response[_0x5a5378(0x24c,'Cf2B')];if(body){switch(!![]){case/api\/sns\/v\d+\/note\/widgets/['test']($request[_0x5a5378(0x277,'EP!G')]):try{let obj=JSON[_0x5a5378(0x1e7,'e05e')](body);obj[_0x5a5378(0x2a5,'mZJ[')]={},body=JSON['stringify'](obj);}catch(_0x2d1796){console[_0x5a5378(0x1e4,'TaWo')]('widgets:\x20'+_0x2d1796);}break;case/api\/sns\/v\d+\/note\/live_photo\/save/[_0x5a5378(0x25f,'l#sh')]($request[_0x5a5378(0x28a,'Cf2B')]):try{let obj=JSON['parse'](body);obj[_0x5a5378(0x232,'yonp')][_0x5a5378(0x29c,'&sID')]=JSON[_0x5a5378(0x1f1,'1BC4')]($[_0x5a5378(0x254,'a7v#')]($[_0x5a5378(0x26c,'GqP3')])),body=JSON[_0x5a5378(0x1e3,'xpBE')](obj);}catch(_0x59b30d){console[_0x5a5378(0x284,'Psb1')]('live_photo:\x20'+_0x59b30d);}break;case/api\/sns\/v\d+\/note\/video\/save/['test']($request[_0x5a5378(0x20a,'9NS&')]):try{let obj=JSON[_0x5a5378(0x2b1,'yonp')](body),tmp=JSON['parse']($['getdata']($[_0x5a5378(0x29d,'Bfgb')]));for(let module of tmp){module['note_id']==obj[_0x5a5378(0x283,'Cf2B')]['note_id']&&(obj['data']=module);}body=JSON['stringify'](obj);}catch(_0x5618a5){console[_0x5a5378(0x26f,'5ngj')]('video:\x20'+_0x5618a5);}break;case/api\/sns\/v\d+\/note\/comment\/list/['test']($request['url']):try{let obj=JSON[_0x5a5378(0x231,'Psb1')](body);for(let module of obj['data'][_0x5a5378(0x2a8,'sC%D')]){if(module[_0x5a5378(0x2b7,'d94(')])for(let item of module[_0x5a5378(0x206,'5ngj')]){item[_0x5a5378(0x295,'5ngj')]?.[_0x5a5378(0x257,'[dl!')]&&(item[_0x5a5378(0x20c,'[dl!')]=item[_0x5a5378(0x28e,'TaWo')][_0x5a5378(0x29a,'1BC4')],item[_0x5a5378(0x216,'svp3')]=item['meme_package'][_0x5a5378(0x252,'ltzp')]);}}body=JSON[_0x5a5378(0x29b,'OAly')](obj);}catch(_0x3c818c){console[_0x5a5378(0x28f,'9NS&')](_0x5a5378(0x1fc,'Xwe!')+_0x3c818c);}break;case/api\/sns\/v\d+\/note\/redtube/[_0x5a5378(0x2a2,'xq^F')]($request[_0x5a5378(0x1f4,'ltzp')]):try{let obj=JSON['parse'](body);for(let module of obj[_0x5a5378(0x272,'ltzp')][_0x5a5378(0x24e,'&sID')]){module[_0x5a5378(0x2c2,'r2]Q')]&&(module[_0x5a5378(0x233,'hx$e')]=0x0),module[_0x5a5378(0x22e,'[dl!')]&&(module[_0x5a5378(0x203,'2Wj^')]=![]),module['media_save_config']&&(module['media_save_config']={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}),module[_0x5a5378(0x22b,'^dhY')]&&(module[_0x5a5378(0x258,'GqP3')][_0x5a5378(0x23f,'v!(6')]=[{'type':_0x5a5378(0x26d,'&sID')},{'type':_0x5a5378(0x218,'r2]Q')},{'type':_0x5a5378(0x2b3,'e05e')},{'type':_0x5a5378(0x1e8,'v!(6')},{'type':_0x5a5378(0x1fd,'NYtv')},{'type':_0x5a5378(0x24f,'9NS&')},{'type':_0x5a5378(0x2a6,'a7v#')},{'type':_0x5a5378(0x253,'jyVK')}]);}body=JSON['stringify'](obj);}catch(_0x238c37){console['log'](_0x5a5378(0x219,'jyVK')+_0x238c37);}break;case/api\/sns\/v\d+\/note\/videofeed/[_0x5a5378(0x249,'lR4[')]($request[_0x5a5378(0x247,'Psb1')]):try{let obj=JSON[_0x5a5378(0x1ed,'v!(6')](body),datas=[];for(let module of obj[_0x5a5378(0x1e6,'a7v#')]){module[_0x5a5378(0x212,'1BC4')]&&(module['related_goods_num']=0x0);module[_0x5a5378(0x270,'9NS&')]&&(module[_0x5a5378(0x26a,'d94(')]=![]);module['media_save_config']&&(module[_0x5a5378(0x24a,'&sID')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]});module['share_info']&&(module[_0x5a5378(0x248,'EP!G')]['function_entries']=[{'type':_0x5a5378(0x286,'Cf2B')},{'type':_0x5a5378(0x2bf,'*BzV')},{'type':_0x5a5378(0x1e1,'*BzV')},{'type':_0x5a5378(0x27b,'gTCg')},{'type':_0x5a5378(0x259,'^[s9')},{'type':_0x5a5378(0x1ea,'JqHV')},{'type':_0x5a5378(0x2a3,'*BzV')},{'type':'video_feedback'}]);if(module[_0x5a5378(0x256,'xpBE')]?.['media']?.[_0x5a5378(0x269,'6A2I')]?.[_0x5a5378(0x224,'YRW6')]){let idata={};idata[_0x5a5378(0x297,'EP!G')]=0x2,idata[_0x5a5378(0x2a4,'yonp')]=module['id'],idata[_0x5a5378(0x2ba,'2Wj^')]=module['video_info_v2'][_0x5a5378(0x282,'eH06')]['stream'][_0x5a5378(0x24b,'^dhY')][0x0][_0x5a5378(0x2be,'Psb1')],datas[_0x5a5378(0x2a9,'lR4[')](idata);}}$[_0x5a5378(0x21e,'&sID')](JSON[_0x5a5378(0x236,'F06&')](datas),$[_0x5a5378(0x1f5,'jyVK')]),body=JSON[_0x5a5378(0x202,'MZ(V')](obj);}catch(_0x3f1234){console['log'](_0x5a5378(0x1fe,'Bfgb')+_0x3f1234);}break;case/api\/sns\/v\d+\/note\/tabfeed/['test']($request['url']):try{let obj=JSON[_0x5a5378(0x1f1,'1BC4')](body),datas=[];for(let module of obj['data'][_0x5a5378(0x2b2,'l#sh')]){module[_0x5a5378(0x275,'[dl!')]&&(module['related_goods_num']=0x0);module[_0x5a5378(0x270,'9NS&')]&&(module[_0x5a5378(0x20f,'Psb1')]=![]);module[_0x5a5378(0x228,'svp3')]&&(module[_0x5a5378(0x24a,'&sID')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]});module['share_info']&&(module[_0x5a5378(0x1f7,'e05e')][_0x5a5378(0x229,'qB81')]=[{'type':_0x5a5378(0x239,'yPxk')},{'type':_0x5a5378(0x2bf,'*BzV')},{'type':'copy_link'},{'type':_0x5a5378(0x244,'*BzV')},{'type':'video_speed'},{'type':'dislike'},{'type':'report'},{'type':_0x5a5378(0x296,'qB81')}]);if(module[_0x5a5378(0x2a0,'9NS&')]?.['media']?.[_0x5a5378(0x21b,'jyVK')]?.[_0x5a5378(0x21c,'^[s9')]){let idata={};idata[_0x5a5378(0x266,'[dl!')]=0x2,idata[_0x5a5378(0x222,'l#sh')]=module['id'],idata['download_url']=module[_0x5a5378(0x201,'Psb1')][_0x5a5378(0x1f0,'NYtv')]['stream'][_0x5a5378(0x285,'JqHV')][0x0][_0x5a5378(0x2a7,'UsSB')],datas['push'](idata);}}$[_0x5a5378(0x2ad,'r2]Q')](JSON[_0x5a5378(0x2bb,'a7v#')](datas),$[_0x5a5378(0x255,'Xwe!')]),body=JSON[_0x5a5378(0x1e3,'xpBE')](obj);}catch(_0x2113f5){console[_0x5a5378(0x1ec,'OZL(')](_0x5a5378(0x1f8,'@ez3')+_0x2113f5);}break;case/api\/sns\/v\d+\/note\/feed/[_0x5a5378(0x2c1,'yonp')]($request['url']):try{let obj=JSON[_0x5a5378(0x22c,'*BzV')](body);for(let module of obj[_0x5a5378(0x227,'gTCg')]){module[_0x5a5378(0x2c0,'TaWo')]&&(module['related_goods_num']=0x0);module['has_related_goods']&&(module[_0x5a5378(0x2bc,'sC%D')]=![]);if(module[_0x5a5378(0x1eb,'1BC4')])for(let item of module['note_list']){item[_0x5a5378(0x292,'OZL(')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};}}body=JSON['stringify'](obj);}catch(_0x2f9474){console[_0x5a5378(0x211,'MZ(V')](_0x5a5378(0x261,'^[s9')+_0x2f9474);}break;case/api\/sns\/v\d+\/note\/imagefeed/[_0x5a5378(0x249,'lR4[')]($request[_0x5a5378(0x1f6,'qB81')]):try{let obj=JSON['parse'](body),datas=[];for(let module of obj['data']){module['related_goods_num']&&(module[_0x5a5378(0x226,'yonp')]=0x0);module[_0x5a5378(0x1ee,'qB81')]&&(module['has_related_goods']=![]);if(module[_0x5a5378(0x21f,'*BzV')])for(let item of module[_0x5a5378(0x2bd,'l#sh')]){item[_0x5a5378(0x228,'svp3')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};if(item[_0x5a5378(0x25d,'gTCg')])for(let it of item[_0x5a5378(0x23b,'a7v#')]){if(it[_0x5a5378(0x268,'Psb1')]){let idata={};idata[_0x5a5378(0x230,'Xwe!')]=it['live_photo'][_0x5a5378(0x28b,'5ngj')][_0x5a5378(0x273,'hx$e')],idata[_0x5a5378(0x299,'v!(6')]=it['live_photo_file_id'],idata[_0x5a5378(0x267,'v!(6')]=it['live_photo']['media'][_0x5a5378(0x1e9,'NYtv')][_0x5a5378(0x20b,'Cf2B')][0x0]['master_url'],datas[_0x5a5378(0x28c,'jyVK')](idata);}}}}$['setdata'](JSON['stringify'](datas),$[_0x5a5378(0x210,'qB81')]),body=JSON[_0x5a5378(0x287,'9NS&')](obj);}catch(_0x128f4f){console['log']('imagefeed:\x20'+_0x128f4f);}break;case/api\/sns\/v\d+\/homefeed\/categories\?/[_0x5a5378(0x21d,'hx$e')]($request[_0x5a5378(0x22d,'1BC4')]):try{let obj=JSON['parse'](body);obj[_0x5a5378(0x217,'G!n[')][_0x5a5378(0x262,'2Wj^')]=obj[_0x5a5378(0x2af,'Bfgb')]['categories']['filter'](_0x4dccf0=>!(_0x4dccf0[_0x5a5378(0x293,'6A2I')]==_0x5a5378(0x271,'ALVD')||_0x4dccf0[_0x5a5378(0x1e0,'5ngj')]==_0x5a5378(0x207,'@ez3')||_0x4dccf0[_0x5a5378(0x223,'NYtv')]==_0x5a5378(0x294,'e05e'))),body=JSON['stringify'](obj);}catch(_0x3bb4bb){console[_0x5a5378(0x23d,'l#sh')](_0x5a5378(0x278,'Cf2B')+_0x3bb4bb);}break;case/api\/sns\/v\d+\/search\/hint/[_0x5a5378(0x21a,'UsSB')]($request[_0x5a5378(0x25b,'6A2I')]):try{let obj=JSON['parse'](body);obj[_0x5a5378(0x265,'eH06')]?.[_0x5a5378(0x225,'jyVK')]&&(obj[_0x5a5378(0x200,'1BC4')][_0x5a5378(0x2b4,'ltzp')]=[{'title':_0x5a5378(0x20e,'lR4['),'type':'firstEnterOther#itemCfRecWord#搜索笔记#1','search_word':_0x5a5378(0x204,'UsSB')}]),body=JSON['stringify'](obj);}catch(_0x527943){console[_0x5a5378(0x243,'EP!G')](_0x5a5378(0x214,'yonp')+_0x527943);}break;case/api\/sns\/v\d+\/search\/hot_list/['test']($request['url']):try{let obj=JSON[_0x5a5378(0x22c,'*BzV')](body);obj[_0x5a5378(0x227,'gTCg')]={'scene':'','title':'','items':[],'host':'','background_color':{},'word_request_id':''},body=JSON['stringify'](obj);}catch(_0x5efecb){console[_0x5a5378(0x238,'xq^F')](_0x5a5378(0x1e5,'YRW6')+_0x5efecb);}break;case/api\/sns\/v\d+\/search\/trending/['test']($request['url']):try{let obj=JSON['parse'](body);obj[_0x5a5378(0x251,'5ngj')]={'title':'','queries':[],'type':'','word_request_id':''},body=JSON[_0x5a5378(0x20d,'gTCg')](obj);}catch(_0x1f8359){console[_0x5a5378(0x205,'xpBE')](_0x5a5378(0x279,'F06&')+_0x1f8359);}break;case/api\/sns\/v\d+\/system_service\/splash_config/[_0x5a5378(0x291,'v!(6')]($request['url']):try{let obj=JSON['parse'](body);obj['data'][_0x5a5378(0x281,'mZJ[')][_0x5a5378(0x2b9,'xpBE')](_0xc0b12e=>{const _0x37e5e8=_0x5a5378,_0x585f13={'iFkTQ':function(_0x25d17e,_0x1dcffb){return _0x25d17e+_0x1dcffb;},'gQcuU':function(_0x5d9ac9,_0x2e4bb7){return _0x5d9ac9!==_0x2e4bb7;},'XIgJQ':_0x37e5e8(0x24d,'&sID'),'wQhRl':_0x37e5e8(0x1f9,'sC%D'),'WXIKD':_0x37e5e8(0x260,'e05e')};_0xc0b12e['start_time']=_0x37e5e8(0x2a1,'gTCg'),_0xc0b12e['end_time']=_0x585f13[_0x37e5e8(0x280,'UsSB')],_0xc0b12e[_0x37e5e8(0x246,'v!(6')]&&_0xc0b12e['ads'][_0x37e5e8(0x2ac,'hx$e')](_0x496aae=>{const _0x1b84f3=_0x37e5e8;_0x585f13[_0x1b84f3(0x274,'MZ(V')](_0x585f13['XIgJQ'],_0x1b84f3(0x29f,'d94('))?(_0x496aae[_0x1b84f3(0x23c,'e05e')]=_0x585f13[_0x1b84f3(0x1fa,'[p!w')],_0x496aae[_0x1b84f3(0x2b0,'lR4[')]=_0x585f13[_0x1b84f3(0x1e2,'*BzV')]):_0x4e5be7[_0x1b84f3(0x250,'yPxk')](_0x585f13[_0x1b84f3(0x234,'GqP3')](_0x1b84f3(0x289,'xpBE'),_0x334ce3));});}),body=JSON[_0x5a5378(0x2b8,'EP!G')](obj);}catch(_0x58306e){console[_0x5a5378(0x221,'F06&')](_0x5a5378(0x28d,'d94(')+_0x58306e);}break;case/api\/sns\/v\d+\/homefeed\?/[_0x5a5378(0x240,'OZL(')]($request['url']):try{let obj=JSON[_0x5a5378(0x27e,'[dl!')](body);obj[_0x5a5378(0x26e,'6A2I')]=obj['data'][_0x5a5378(0x276,'Xwe!')](_0x930b88=>!_0x930b88[_0x5a5378(0x220,'ALVD')]),body=JSON[_0x5a5378(0x288,'l#sh')](obj);}catch(_0x1d7717){console[_0x5a5378(0x1e4,'TaWo')]('homefeed:\x20'+_0x1d7717);}break;case/api\/sns\/v\d+\/search\/notes\?/[_0x5a5378(0x27c,'xpBE')]($request[_0x5a5378(0x20a,'9NS&')]):try{let obj=JSON[_0x5a5378(0x2c3,'G!n[')](body);obj['data'][_0x5a5378(0x23e,'2Wj^')]=obj[_0x5a5378(0x241,'sC%D')]['items'][_0x5a5378(0x1fb,'xpBE')](_0x59f3e6=>!_0x59f3e6['ads']),body=JSON['stringify'](obj);}catch(_0x2a3c01){console[_0x5a5378(0x2c4,'eH06')](_0x5a5378(0x1ef,'ALVD')+_0x2a3c01);}break;case/api\/sns\/v\d+\/system_service\/config\?/[_0x5a5378(0x235,'qB81')]($request[_0x5a5378(0x2b6,'NYtv')]):try{let obj=JSON['parse'](body);const propertiesToDelete=[_0x5a5378(0x1f3,'ALVD'),_0x5a5378(0x209,'mZJ['),_0x5a5378(0x290,'xpBE'),_0x5a5378(0x22f,'xq^F'),_0x5a5378(0x27a,'@ez3'),'highlight_tab'];for(const prop of propertiesToDelete){obj[_0x5a5378(0x2aa,'^[s9')]?.[prop]&&delete obj[_0x5a5378(0x1f2,'MZ(V')][prop];}body=JSON[_0x5a5378(0x1e3,'xpBE')](obj);}catch(_0x575554){console[_0x5a5378(0x238,'xq^F')](_0x5a5378(0x23a,'*BzV')+_0x575554);}break;default:$done({});break;}$done({'body':body});}else $done({});var version_ = 'jsjiami.com.v7';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e)} isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = [""]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
