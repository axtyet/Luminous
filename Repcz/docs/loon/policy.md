# 4. ç­–ç•¥
Loonçš„æµé‡èµ°å‘æœºåˆ¶ï¼š

**è¯·æ±‚ â†’ åŒ¹é…è§„åˆ™ â†’ æŸ¥è¯¢è§„åˆ™æŒ‡å®šçš„ç­–ç•¥ â†’ æ ¹æ®ç­–ç•¥è·å–åˆ°ç›¸åº”çš„èŠ‚ç‚¹**

ä¸Šè¿°æµç¨‹é˜è¿°äº†è§„åˆ™ã€ç­–ç•¥ã€èŠ‚ç‚¹ä¸‰è€…çš„å…³ç³»ï¼Œè§„åˆ™æŒ‡å‘ç­–ç•¥ï¼Œç­–ç•¥å†³å®šä½¿ç”¨çš„èŠ‚ç‚¹

åœ¨Loonä¸­ï¼Œç­–ç•¥å¯ä»¥ä½¿ä»¥ä¸‹å››ç§ï¼š**ä¸€ä¸ªèŠ‚ç‚¹ã€å†…ç½®ç­–ç•¥ã€ç­–ç•¥ç»„ã€ä»£ç†é“¾**

### 4.1 èŠ‚ç‚¹ç±»å‹ç­–ç•¥
å½“ä¸€ä¸ªç­–ç•¥æ˜¯ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå°±è¡¨ç¤ºä½¿ç”¨è¿™ä¸ªèŠ‚ç‚¹è¿›è¡Œæµç¨‹è½¬å‘ï¼›ä½ å¯ä»¥å°†è§„åˆ™ç›´æ¥æŒ‡å‘ä¸€ä¸ªèŠ‚ç‚¹ç­–ç•¥ï¼Œå¦‚ï¼š

```
# å‡è®¾èŠ‚ç‚¹åä¸º ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ
[Rule]
DOMAIN,google.com,ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ

[Remote Rule]
https://github.com/Repcz/Tool/raw/X/Loon/Rules/Google.list, policy = ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ, tag = Google, enabled = true

```

### 4.2 å†…ç½®ç­–ç•¥

å†…ç½®ç­–ç•¥åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œç›´è¿å’Œæ‹’ç»

#### 4.2.1 ç›´è¿
æµé‡ä¸ç»è¿‡ä»»ä½•èŠ‚ç‚¹ï¼Œç›´æ¥å‘é€åˆ°ç›®çš„åœ°ï¼Œä½¿ç”¨å¤§å†™çš„`DIRECT`è¡¨ç¤º
```
DOMAIN,apple.com,DIRECT
```
#### 4.2.2 æ‹’ç»

ä¸å°†æµé‡å‘é€åˆ°ä»»ä½•æœåŠ¡å™¨ï¼Œä¸€èˆ¬ç”¨äºå»å¹¿å‘Š

> REJECT ç±»å‹çš„ç­–ç•¥åªæœ‰åœ¨HTTPæˆ–è€…è§£å¯†åçš„HTTPSä¸­æœ‰æ•ˆï¼Œå…¶ä»–æƒ…æ³ä¸‹é™¤äº† `REJECT-DROP` ä¹‹å¤–ç›´æ¥æ–­å¼€è¿æ¥

- `REJECT`ï¼šHTTP 404ï¼Œå“åº”ä½“ä¸ºç©º
- `REJECT-DROP`ï¼šä¸Ÿå¼ƒè¯·æ±‚ï¼Œä¸åšå¤„ç†
- `REJECT-NO-DROP`ï¼šHTTP 404ï¼Œå“åº”ä½“ä¸ºç©ºï¼Œä¸ä¼šå‡çº§åˆ° `REJECT-DROP`
- `REJECT-IMG`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸º1åƒç´ çš„gif
- `REJECT-IMG-NO-DROP`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸º1åƒç´ çš„gifï¼Œä¸ä¼šå‡çº§åˆ° `REJECT-DROP`
- `REJECT-VIDEO`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸ºç©ºç™½è§†é¢‘
- `REJECT-VIDEO-NO-DROP`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸ºç©ºç™½è§†é¢‘ï¼Œä¸ä¼šå‡çº§åˆ° `REJECT-DROP`
- `REJECT-DICT`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸ºç©ºjsonå­—ç¬¦ä¸²
- `REJECT-DICT-NO-DROP`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸ºç©ºjsonå­—ç¬¦ä¸²ï¼Œä¸ä¼šå‡çº§åˆ° `REJECT-DROP`
- `REJECT-ARRAY`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸ºç©ºæ•°ç»„å­—ç¬¦ä¸²
- `REJECT-ARRAY-NO-DROP`ï¼šHTTP 200ï¼Œå“åº”ä½“ä¸ºç©ºæ•°ç»„å­—ç¬¦ä¸²ï¼Œä¸ä¼šå‡çº§åˆ° `REJECT-DROP`


### 4.3 ä»£ç†é“¾ç­–ç•¥

ä»£ç†é“¾ï¼ˆProxy Chainï¼‰æ˜¯æŒ‡å°†å¤šä¸ªä»£ç†æœåŠ¡å™¨æŒ‰ç…§ä¸€å®šçš„é¡ºåºè¿æ¥èµ·æ¥å½¢æˆçš„é“¾å¼ç»“æ„ã€‚å½“ç”¨æˆ·é€šè¿‡ä»£ç†é“¾å‘é€ç½‘ç»œè¯·æ±‚æ—¶ï¼Œè¯·æ±‚ä¼šä¾æ¬¡ç»è¿‡æ¯ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œæ¯ä¸ªä»£ç†æœåŠ¡å™¨éƒ½ä¼šè¿›è¡Œç›¸åº”çš„å¤„ç†å’Œè½¬å‘ã€‚

å½“ä¸€ä¸ªç­–ç•¥æ˜¯ä¸ºä»£ç†é“¾æ—¶ï¼Œå°±è¡¨ç¤ºä½¿ç”¨è¿™ä¸ªä»£ç†é“¾è¿›è¡Œæµç¨‹è½¬å‘ï¼›

#### ä»£ç†é“¾çš„ä½œç”¨

1. å®ç°å¤šé‡ä»£ç†ï¼Œå¢åŠ ç½‘ç»œè¯·æ±‚çš„åŒ¿åæ€§å’Œå®‰å…¨æ€§ã€‚
2. éšè—è‡ªå·±çš„çœŸå®IPåœ°å€ï¼Œä½¿ç½‘ç»œè¯·æ±‚çš„æ¥æºæ›´åŠ éšç§˜ã€‚
3. ç»•è¿‡ç½‘ç»œå°é”æˆ–è®¿é—®å—é™åˆ¶çš„å†…å®¹ï¼Œå› ä¸ºè¯·æ±‚ç»è¿‡å¤šä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥æ”¹å˜è¯·æ±‚çš„å‡ºå£IPåœ°å€ï¼Œä»è€Œç»•è¿‡ä¸€äº›åœ°ç†é™åˆ¶æˆ–å°é”æœºåˆ¶ã€‚

!> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ä»£ç†é“¾æ—¶éœ€è¦é€‰æ‹©å¯ä¿¡çš„ä»£ç†æœåŠ¡å™¨ï¼Œå¹¶ç¡®ä¿ä»£ç†æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥å’Œé…ç½®æ­£ç¡®ï¼Œä»¥é¿å…ä¿¡æ¯æ³„éœ²æˆ–è¯·æ±‚å¤±è´¥çš„é—®é¢˜ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ä»£ç†é“¾å¯èƒ½ä¼šå¯¹ç½‘ç»œè¯·æ±‚çš„é€Ÿåº¦å’Œæ€§èƒ½äº§ç”Ÿä¸€å®šçš„å½±å“ã€‚


#### é…ç½®ä»£ç†é“¾

å‡è®¾å»ºç«‹ä¸€ä¸ªåä¸º **ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—–ğ—µğ—®ğ—¶ğ—»** çš„ä»£ç†é“¾ï¼Œç”± **ç¾å›½èŠ‚ç‚¹** è¿™ä¸ªç­–ç•¥ç»„é‡Œçš„èŠ‚ç‚¹ï¼Œè½¬å‘ **ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—”ğ—»ğ—»ğ—¶ğ˜ƒáµ€** è¿™ä¸ªæœ¬åœ°èŠ‚ç‚¹ï¼›å³ ç¾å›½èŠ‚ç‚¹ â†’ ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—”ğ—»ğ—»ğ—¶ğ˜ƒáµ€ ã€‚

é…ç½®æ–‡ä»¶è¯­æ³•å¦‚ä¸‹ï¼š

```
# å‡è®¾ä»£ç†é“¾åä¸º ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—–ğ—µğ—®ğ—¶ğ—»
[Proxy Chain]
ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—–ğ—µğ—®ğ—¶ğ—» = ç¾å›½èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—”ğ—»ğ—»ğ—¶ğ˜ƒáµ€, udp=true

[Rule]
DOMAIN,google.com,ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—–ğ—µğ—®ğ—¶ğ—»

[Remote Rule]
https://github.com/Repcz/Tool/raw/X/Loon/Rules/Google.list, policy = ğŸ‡ºğŸ‡¸ ğ—¦ğ—®ğ—¹ğ˜ğ˜†ğ—™ğ—¶ğ˜€ğ—µ ğ—–ğ—µğ—®ğ—¶ğ—», tag = Google, enabled = true
```

UI æ·»åŠ æ–¹æ³•å¦‚ä¸‹ï¼š

<img src="https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Photo/4.3.1.PNG" width="900">


æ­¤æ—¶ï¼Œä½ å¯ä»¥å°† **ä»£ç†é“¾ç­–ç•¥** ä½œä¸ºä¸€ä¸ª**å•ç‹¬çš„ç­–ç•¥**ï¼Œå¯è¢«è§„åˆ™ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯è¢«å…¶ä»–ç­–ç•¥ç»„å¼•ç”¨ã€‚

<img src="https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Photo/4.3.2.PNG" width="900">


#### æ³¨æ„


Qï¼šä»£ç†é“¾ä¼šå½±å“ç½‘é€Ÿä¹ˆï¼Ÿ

Aï¼šä»£ç†é“¾çš„é€Ÿåº¦å–å†³äºé“¾ä¸­é€Ÿåº¦æœ€æ…¢çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»£ç†é“¾è¶Šé•¿å¯¹é€Ÿåº¦çš„å½±å“è¶Šå¤§ï¼›Loonæœ¬åœ°å‘é€æ•°æ®çš„é€Ÿåº¦åŸºæœ¬æ²¡æœ‰å½±å“

Qï¼šä¸ºä»€ä¹ˆæˆ‘çš„è®¢é˜…èŠ‚ç‚¹æ— æ³•è¿›è¡Œä»£ç†é“¾

Aï¼šæœ‰äº›ä»£ç†æœåŠ¡æä¾›å•†ä¸ºäº†å®‰å…¨èµ·è§ä¼šç¦ç”¨å¢ƒå¤–è®¿é—®ï¼Œå³æœ‰äº›èŠ‚ç‚¹æ— æ³•åœ¨å¢ƒå¤–ä½¿ç”¨ï¼›

!> åœ¨ä½¿ç”¨WireGuardä½œä¸ºä»£ç†é“¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œé“¾è·¯ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å¿…é¡»æ”¯æŒUDPè½¬å‘ï¼Œå¦åˆ™ä»£ç†é“¾å°†ä¸é€šã€‚ï¼ˆbuild 593å¼€å§‹å¯ä»¥é€šè¿‡é•¿æŒ‰èŠ‚ç‚¹è¿›è¡ŒUDPè½¬å‘æµ‹è¯•æ¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ”¯æŒUDPè½¬å‘ï¼‰

Qï¼šä»£ç†é“¾çš„æµé‡æ€ä¹ˆè®¡ç®—çš„

Aï¼šç”±äºè¯·æ±‚ä¼šç»è¿‡é“¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å¤„ç†å’Œè½¬å‘ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæ¶ˆè€—ç›¸åŒçš„æµé‡ï¼Œæ¯”å¦‚ä¸‹è½½1Gçš„ç”µå½±ï¼Œé“¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæ¶ˆè€—1Gæµé‡

### 4.4 ç­–ç•¥ç»„

ç­–ç•¥ç»„æ˜¯ä¸€ç³»åˆ—ç­–ç•¥ã€ç­–ç•¥ç»„çš„é›†åˆï¼Œæ‰‹åŠ¨æˆ–è‡ªåŠ¨çš„å†³å®šä½¿ç”¨ç­–ç•¥ç»„ä¸­çš„å“ªä¸€ä¸ªç­–ç•¥ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶çš„`[Proxy Group]`åŒºå—ä¸‹å£°æ˜ï¼Œç­–ç•¥ç»„æ˜¯å¯ä»¥ç›¸äº’åµŒå¥—çš„

!> ä»¥ä¸‹ä¸»è¦è®²çš„æ˜¯ `[Proxy Group]` åŒºå—ä¸‹çš„å†…å®¹ï¼Œæ‰€ä»¥ç¤ºä¾‹éƒ½ä»¥ `[Proxy Group]` å¼€å¤´è¡¨æ˜åœ¨å…¶ä¹‹ä¸‹ï¼Œå¹¶ä¸æ˜¯è®©ä½ æ¯ä¸ªå‚æ•°å­—æ®µå‰éƒ½åŠ ä¸Š `[Proxy Group]`ã€‚



ç­–ç•¥ç»„æœ‰ä»¥ä¸‹ç±»å‹ï¼š

#### 4.4.1 `select`:ã€Œæ‰‹åŠ¨é€‰æ‹©ã€

éœ€è¦æ‰‹åŠ¨é€‰æ‹©æƒ³è¦çš„èŠ‚ç‚¹/ç­–ç•¥ç»„

```
[Remote Filter]
All = NameRegex, FilterKey = .

[Proxy Group]
æ‰‹åŠ¨åˆ‡æ¢ = select,é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,All,url = http://1.1.1.1/generate_204,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/chxm1023/Loon_9.png

[Remote Rule]
https://github.com/Repcz/Tool/raw/X/Loon/Rules/Google.list, policy=æ‰‹åŠ¨åˆ‡æ¢, tag=Google, enabled=true

```

- ç­–ç•¥ç»„å‚æ•°`select`ï¼šæ‰‹åŠ¨é€‰æ‹©ç­–ç•¥ç»„å‚æ•°
- `é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹`ï¼šè¡¨ç¤ºå¼•ç”¨çš„ç­–ç•¥ç»„
- ç­›é€‰èŠ‚ç‚¹`All`ï¼šå½“ç­›é€‰èŠ‚ç‚¹ä¸‹çš„ [ç­›é€‰å™¨](loon/node.md?id=_25-ç­›é€‰èŠ‚ç‚¹) ä½œä¸ºè¢«å¼•ç”¨å¯¹è±¡æ—¶ï¼Œæ­¤ ç­›é€‰å™¨ ç­›é€‰çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œéƒ½ä¼šè¢«å¼•ç”¨åˆ°è¯¥ç­–ç•¥ç»„ä¸‹
- æµ‹è¯•é“¾æ¥`url = `ï¼šæµ‹é€Ÿçš„urlï¼Œloonä¼šå‘è¯¥urlå‘èµ·headerè¯·æ±‚
- ç­–ç•¥ç»„å›¾æ ‡`img-url = `ï¼šç­–ç•¥ç»„å›¾æ ‡ï¼Œæ”¯æŒåŠ¨å›¾


UI æ·»åŠ æ–¹æ³•å¦‚ä¸‹

<img src="https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Photo/4.4.1.PNG" width="1200">




#### 4.4.2 `url-test`ï¼šã€Œæœ€ä¼˜å»¶è¿Ÿã€

æ ¹æ®æä¾›çš„urlï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å¯¹è¯¥ç­–ç•¥ç»„ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹/ç­–ç•¥ç»„è¿›è¡Œæµ‹é€Ÿï¼Œæ ¹æ®å®¹å·®å‚æ•°ï¼Œé€‰æ‹©å»¶è¿Ÿæœ€ä¼˜çš„èŠ‚ç‚¹/ç­–ç•¥ç»„

```
[Remote Filter]
HK = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"

[Proxy Group]
é¦™æ¸¯èŠ‚ç‚¹ = url-test,HK,url = http://1.1.1.1/generate_204,interval = 600,tolerance = 50,img-url = https://raw.githubusercontent.com/Toperlock/Quantumult/main/icon/FlagGif/hong-kong.gif

[Remote Rule]
https://github.com/Repcz/Tool/raw/X/Loon/Rules/Google.list, policy=é¦™æ¸¯èŠ‚ç‚¹, tag=Google, enabled=true

```

- ç­–ç•¥ç»„å‚æ•°`url-test`ï¼šè‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä¼˜ç­–ç•¥ç»„å‚æ•°
- ç­›é€‰èŠ‚ç‚¹`HK`ï¼šå½“ç­›é€‰èŠ‚ç‚¹ä¸‹çš„ [ç­›é€‰å™¨](loon/node.md?id=_25-ç­›é€‰èŠ‚ç‚¹) ä½œä¸ºè¢«å¼•ç”¨å¯¹è±¡æ—¶ï¼Œæ­¤ ç­›é€‰å™¨ ç­›é€‰çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œéƒ½ä¼šè¢«å¼•ç”¨åˆ°è¯¥ç­–ç•¥ç»„ä¸‹
- æµ‹è¯•é“¾æ¥`url = `ï¼šæµ‹é€Ÿçš„urlï¼Œloonä¼šå‘è¯¥urlå‘èµ·headerè¯·æ±‚
- ç­–ç•¥ç»„å›¾æ ‡`img-url = `ï¼šç­–ç•¥ç»„å›¾æ ‡ï¼Œæ”¯æŒåŠ¨å›¾
- æµ‹è¯•é—´éš”`interval =`ï¼šæµ‹é€Ÿé—´éš”æ—¶é—´ï¼Œå•ä½ç§’(s)
- å®¹å·®`tolerance =`ï¼šå¦‚æœå½“å‰æµ‹é€Ÿåçš„æœ€ä¼˜èŠ‚ç‚¹å’Œä¹‹å‰æœ€ä¼˜èŠ‚ç‚¹çš„æµ‹é€Ÿç›¸å·®å°äº`tolerance`ï¼Œå°†ä¸ä¼šè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢ï¼Œå•ä½æ¯«ç§’(ms)

<img src="https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Photo/4.4.2.PNG" width="900">



#### 4.4.3 `fallback`ï¼šã€Œæ•…éšœè½¬ç§»ã€

æ ¹æ®æä¾›çš„urlï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å¯¹è¯¥ç­–ç•¥ç»„ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹/ç­–ç•¥ç»„è¿›è¡Œæµ‹é€Ÿï¼Œå°†æŒ‰é¡ºåºé€‰æ‹©ä½ åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ã€‚

```
[Remote Filter]
HK = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"

[Proxy Group]
é¦™æ¸¯èŠ‚ç‚¹ = fallback,HK,url = http://1.1.1.1/generate_204,interval = 600,max-timeout = 1000,img-url = https://raw.githubusercontent.com/Toperlock/Quantumult/main/icon/FlagGif/hong-kong.gif

[Remote Rule]
https://github.com/Repcz/Tool/raw/X/Loon/Rules/Google.list, policy=é¦™æ¸¯èŠ‚ç‚¹, tag=Google, enabled=true

```

- ç­–ç•¥ç»„å‚æ•°`fallback`ï¼šè‡ªåŠ¨å›é€€èŠ‚ç‚¹/ç­–ç•¥ç»„å‚æ•°
- ç­›é€‰èŠ‚ç‚¹`HK`ï¼šå½“ç­›é€‰èŠ‚ç‚¹ä¸‹çš„ [ç­›é€‰å™¨](loon/node.md?id=_25-ç­›é€‰èŠ‚ç‚¹) ä½œä¸ºè¢«å¼•ç”¨å¯¹è±¡æ—¶ï¼Œæ­¤ ç­›é€‰å™¨ ç­›é€‰çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œéƒ½ä¼šè¢«å¼•ç”¨åˆ°è¯¥ç­–ç•¥ç»„ä¸‹
- æµ‹è¯•é“¾æ¥`url = `ï¼šæµ‹é€Ÿçš„urlï¼Œloonä¼šå‘è¯¥urlå‘èµ·headerè¯·æ±‚
- ç­–ç•¥ç»„å›¾æ ‡`img-url = `ï¼šç­–ç•¥ç»„å›¾æ ‡ï¼Œæ”¯æŒåŠ¨å›¾
- æµ‹è¯•é—´éš”`interval =`ï¼šæµ‹é€Ÿé—´éš”æ—¶é—´ï¼Œå•ä½ç§’(s)
- æœ€å¤§è¶…æ—¶æ—¶é—´`max-timeout =`ï¼šå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æµ‹é€Ÿè¶…è¿‡äº†è¿™ä¸ªå€¼ï¼Œå°±å°†è¯¥èŠ‚ç‚¹è®¤ä½œä¸ºä¸å¯ç”¨èŠ‚ç‚¹ï¼Œä¸ä¼šè¿›è¡Œæ’åºï¼Œå•ä½æ¯«ç§’(ms)


#### 4.4.4 `load-balance`ï¼šã€Œè´Ÿè½½å‡è¡¡ã€

è´Ÿè½½å‡è¡¡ï¼Œæ ¹æ®æ‰€é€‰çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œè‡ªåŠ¨é€‰æ‹©å­ç­–ç•¥


```
[Remote Filter]
HK = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
US = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
SG = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"


[Proxy Group]
é¦™æ¸¯èŠ‚ç‚¹ = load-balance,HK,url = http://1.1.1.1/generate_204,interval = 600,max-timeout = 1000,algorithm = pcc,img-url = https://raw.githubusercontent.com/Toperlock/Quantumult/main/icon/FlagGif/hong-kong.gif
ç¾å›½èŠ‚ç‚¹ = load-balance,US,url = http://1.1.1.1/generate_204,interval = 600,max-timeout = 1000,algorithm = random,img-url = https://raw.githubusercontent.com/Toperlock/Quantumult/main/icon/FlagGif/united-states.gif
ç‹®åŸèŠ‚ç‚¹ = load-balance,SG,url = http://1.1.1.1/generate_204,interval = 600,max-timeout = 1000,algorithm = round-robin,img-url = https://raw.githubusercontent.com/Toperlock/Quantumult/main/icon/FlagGif/singapore.gif

[Remote Rule]
https://github.com/Repcz/Tool/raw/X/Loon/Rules/Google.list, policy=é¦™æ¸¯èŠ‚ç‚¹, tag=Google, enabled=true

```

- ç­–ç•¥ç»„å‚æ•°`load-balance`ï¼šè‡ªåŠ¨å›é€€èŠ‚ç‚¹/ç­–ç•¥ç»„å‚æ•°
- ç­›é€‰èŠ‚ç‚¹`HK`ï¼šå½“ç­›é€‰èŠ‚ç‚¹ä¸‹çš„ [ç­›é€‰å™¨](loon/node.md?id=_25-ç­›é€‰èŠ‚ç‚¹) ä½œä¸ºè¢«å¼•ç”¨å¯¹è±¡æ—¶ï¼Œæ­¤ ç­›é€‰å™¨ ç­›é€‰çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œéƒ½ä¼šè¢«å¼•ç”¨åˆ°è¯¥ç­–ç•¥ç»„ä¸‹
- æµ‹è¯•é“¾æ¥`url = `ï¼šæµ‹é€Ÿçš„urlï¼Œloonä¼šå‘è¯¥urlå‘èµ·headerè¯·æ±‚
- æµ‹è¯•é—´éš”`interval =`ï¼šæµ‹é€Ÿé—´éš”æ—¶é—´ï¼Œå•ä½ç§’(s)
- æœ€å¤§è¶…æ—¶æ—¶é—´`max-timeout =`ï¼šå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æµ‹é€Ÿè¶…è¿‡äº†è¿™ä¸ªå€¼ï¼Œå°±å°†è¯¥èŠ‚ç‚¹è®¤ä½œä¸ºä¸å¯ç”¨èŠ‚ç‚¹ï¼Œä¸ä¼šè¿›è¡Œæ’åºï¼Œå•ä½æ¯«ç§’(ms)
- è´Ÿè½½å‡è¡¡ç®—æ³•`algorithm =`
    - `Random`ï¼šéšæœºé€‰æ‹©å­ç­–ç•¥
    - `PCC`ï¼šåŸºäºRandomï¼Œä¸åŒäºRandomï¼ŒPCCä¼šè®©ç›¸åŒä¸»æœºåçš„è¯·æ±‚é”å®šåŒä¸€èŠ‚ç‚¹
    - `Round-Robin`ï¼šè½®è¯¢é€‰æ‹©å­ç­–ç•¥
- ç­–ç•¥ç»„å›¾æ ‡`img-url = `ï¼šç­–ç•¥ç»„å›¾æ ‡ï¼Œæ”¯æŒåŠ¨å›¾

#### 4.4.5 `ssid`

```
[Proxy Group]

ğŸ‡­ğŸ‡°é¦™æ¸¯SSID = ssid,default=é¦™æ¸¯èŠ‚ç‚¹,cellular=é¦™æ¸¯èŠ‚ç‚¹,"Wi-Fi SSID"=DIRECT,url = http://1.1.1.1/generate_204

é¦™æ¸¯èŠ‚ç‚¹ = url-test,HK,url = http://1.1.1.1/generate_204,interval = 600,tolerance = 50,img-url = https://raw.githubusercontent.com/Toperlock/Quantumult/main/icon/FlagGif/hong-kong.gif
```

<img src="https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Photo/4.4.5.PNG" width="900">

- ç­–ç•¥ç»„å‚æ•°`ssid`ï¼šæ ¹æ®WiFiçš„SSIDï¼Œé€‰æ‹©å¯¹åº”çš„ç­–ç•¥
- é»˜è®¤ç­–ç•¥`default= `ï¼šéæŒ‡å®šWiFiä¸‹çš„ç­–ç•¥é€‰æ‹©
- èœ‚çªæ•°æ®`cellular= `ï¼šèœ‚çªæ•°æ®ä¸‹çš„ç­–ç•¥é€‰æ‹©
- `"Wi-Fi SSID"=DIRECT`ï¼šæŒ‡å®šWiFiä¸‹çš„ç­–ç•¥é€‰æ‹©ï¼Œå¯æ·»åŠ å¤šä¸ª




